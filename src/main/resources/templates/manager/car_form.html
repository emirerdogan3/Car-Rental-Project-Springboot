<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head}"></head>
<body>
<div th:replace="~{fragments/header :: navbar}"></div>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title text-center mb-4" th:text="${carDTO.carID != null ? 'Edit Car' : 'Add New Car'}">Car Form</h2>
                        <form th:action="@{/manager/cars/save}" th:object="${carDTO}" method="post">
                            <input type="hidden" th:if="${carDTO.carID != null}" th:field="*{carID}" />
                            
                            <div class="mb-3">
                                <label for="brandId" class="form-label">Brand</label>
                                <select class="form-select" id="brandId" th:field="*{brandID}" required>
                                    <option value="" disabled selected>Select brand</option>
                                    <option th:each="brand : ${brands}" th:value="${brand.brandID}" th:text="${brand.brandName}" th:selected="${carDTO.brandID} == ${brand.brandID}"></option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="modelId" class="form-label">Model</label>
                                <select class="form-select" id="modelId" th:field="*{modelID}" required>
                                    <option value="" disabled selected>Select model</option>
                                    <option th:each="model : ${models}" th:value="${model.modelID}" th:text="${model.modelName}" th:selected="${carDTO.modelID} == ${model.modelID}"></option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="plateNumber" class="form-label">Plate</label>
                                <input type="text" class="form-control" id="plateNumber" th:field="*{plateNumber}" placeholder="Enter plate number" required>
                            </div>
                            <div class="mb-3">
                                <label for="modelYear" class="form-label">Year</label>
                                <input type="number" class="form-control" id="modelYear" th:field="*{modelYear}" placeholder="Enter year" required>
                            </div>
                            <div class="mb-3">
                                <label for="colorId" class="form-label">Color</label>
                                <select class="form-select" id="colorId" th:field="*{colorID}" required>
                                    <option value="" disabled selected>Select color</option>
                                    <option th:each="color : ${colors}" th:value="${color.colorID}" th:text="${color.colorName}" th:selected="${carDTO.colorID} == ${color.colorID}"></option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="categoryId" class="form-label">Category</label>
                                <select class="form-select" id="categoryId" th:field="*{categoryID}" required>
                                    <option value="" disabled selected>Select category</option>
                                    <option th:each="category : ${categories}" th:value="${category.categoryID}" th:text="${category.categoryName}" th:selected="${carDTO.categoryID} == ${category.categoryID}"></option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="fuelTypeId" class="form-label">Fuel Type</label>
                                <select class="form-select" id="fuelTypeId" th:field="*{fuelTypeID}" required>
                                    <option value="" disabled selected>Select fuel type</option>
                                    <option th:each="fuelType : ${fuelTypes}" th:value="${fuelType.fuelTypeID}" th:text="${fuelType.fuelTypeName}" th:selected="${carDTO.fuelTypeID} == ${fuelType.fuelTypeID}"></option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="kilometer" class="form-label">Km</label>
                                <input type="number" class="form-control" id="kilometer" th:field="*{kilometer}" placeholder="Enter kilometer" required>
                            </div>
                            <div class="mb-3">
                                <label for="pricePerDay" class="form-label">Daily Price</label>
                                <input type="number" step="0.01" class="form-control" id="pricePerDay" th:field="*{pricePerDay}" placeholder="Enter daily price" required>
                            </div>
                            <div class="mb-3">
                                <label for="status" class="form-label">Status</label>
                                <select class="form-select" id="status" th:field="*{status}" required>
                                    <option value="Available" th:selected="${carDTO.status} == 'Available'">Available</option>
                                    <option value="Rented" th:selected="${carDTO.status} == 'Rented'">Rented</option>
                                    <option value="Maintenance" th:selected="${carDTO.status} == 'Maintenance'">Maintenance</option>
                                </select>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </form>
                        <div class="mt-3 text-center">
                            <a th:href="@{/manager/cars}" class="btn btn-link">Back to Cars</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html> 